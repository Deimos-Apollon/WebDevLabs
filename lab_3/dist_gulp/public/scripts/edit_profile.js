import{editUser,deleteUser,banUser,controlPanelPage,editProfilePage,uploadPhoto,getUser}from"./client.js";$(document).ready(async function(){var t=document.location.href.split("/").slice(-1),t=await getUser(t);$("#edit_profile_img").attr("src",t.img),$("#InputUsername").val(t.name),$("#InputBirthdate").val(t.birth),$("#InputRole").val(t.role),$("#InputEmail").val(t.email),$("#InputStatus").val(t.status),$("#InputId").val(t.id),$(".ban_btn").on("click",async function(){var t=$(this).attr("id").split("profile_ban_user#")[1];await banUser(t),editProfilePage(t)}),$(".dlt_btn").on("click",async function(){var t=$(this).attr("id").split("profile_delete_user#")[1];await deleteUser(t),controlPanelPage()}),$(".save_btn").on("click",async function(){var t=$("#InputUsername").val(),a=$("#InputBirthdate").val(),e=$("#InputRole").val(),i=$("#InputEmail").val(),l=$("#InputStatus").val(),n=$("#InputId").val(),t={name:t,birth:a,role:e,email:i,status:l,img:$("#edit_profile_img").attr("src")};console.log(t),await editUser(t,n),editProfilePage(n)}),$("#delete_image").on("click",async function(){$("#edit_profile_img").attr("src","https://cdn-icons-png.flaticon.com/512/149/149071.png");var t=$("#InputUsername").val(),a=$("#InputBirthdate").val(),e=$("#InputRole").val(),i=$("#InputEmail").val(),l=$("#InputStatus").val(),n=$("#InputId").val(),r=$("#edit_profile_img").attr("src");await editUser({name:t,birth:a,role:e,email:i,status:l,img:r},n),editProfilePage(n)}),$("#load_image").on("click",async function(){var t,a=$("#load_image_input").val();a&&(t=$("#InputId").val(),await uploadPhoto(t,a),editProfilePage(t))})});