import{editUser,deleteUser,banUser,controlPanelPage,editProfilePage,uploadPhoto,getUser}from"./client.js";$(document).ready(async function(){var t=document.location.href.split("/").slice(-1);const a=await getUser(t);$("#edit_profile_img").attr("src",a.img),$("#InputUsername").val(a.name),$("#InputBirthdate").val(a.birth),$("#InputRole").val(a.role),$("#InputEmail").val(a.email),$("#InputStatus").val(a.status),$("#InputId").val(a.id),$(".ban_btn").on("click",async function(){await banUser(a.id),editProfilePage(a.id)}),$(".dlt_btn").on("click",async function(){await deleteUser(a.id),controlPanelPage()}),$(".save_btn").on("click",async function(){var t=$("#InputUsername").val(),a=$("#InputBirthdate").val(),e=$("#InputRole").val(),i=$("#InputEmail").val(),n=$("#InputStatus").val(),l=$("#InputId").val(),o=$("#edit_profile_img").attr("src");await editUser({name:t,birth:a,role:e,email:i,status:n,img:o},l),editProfilePage(l)}),$("#delete_image").on("click",async function(){$("#edit_profile_img").attr("src","https://cdn-icons-png.flaticon.com/512/149/149071.png");var t=$("#InputUsername").val(),a=$("#InputBirthdate").val(),e=$("#InputRole").val(),i=$("#InputEmail").val(),n=$("#InputStatus").val(),l=$("#InputId").val(),o=$("#edit_profile_img").attr("src");await editUser({name:t,birth:a,role:e,email:i,status:n,img:o},l),editProfilePage(l)}),$("#load_image").on("click",async function(){var t=$("#load_image_input").val();t&&(await uploadPhoto(a.id,t),editProfilePage(a.id))})});